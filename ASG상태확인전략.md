### ASG의 상태확인 전략

ASG의 상태확인 전략은 EC2 기반 혹은 EC2+ELB 기반의 상태확인 전략으로 나뉜다.

| 분류                                    | EC2 / ELB 기반                                               | EC2 기반                                                     |
| :-------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 대상그룹의 health 체크가 되지 않는 경우 | 기존 인스턴스를 내리고 새로운 인스턴스 계속해서 생성한다.<br />대상 그룹에서 해당 asg가 분리된다. (아마 대상그룹의 모든 인스턴스가 health 체크에 실패해서 그런거지 않을까 싶다 확인필요)<br />분리된 인스턴스가 종료되는 건 좀 충격 | ASG의 EC2인스턴스는 아무런 행동을 취하지 않는다. ELB에서는 health 체크에 실패했지만 EC2의 상태로는 문제가 없다고 판단하기 때문에 ASG는 해당 인스턴스가 잘못됐는지 모르기 때문이다.<br />또한 ELB는 대상그룹에서 해당 ASG를 분리하지 않고 계속해서 health 체크를 진행한다. |
| 인스턴스를 중지한경우                   | ELB가 대상그룹에서 제외해버리고 인스턴스가 종료된다.         | ELB가 대상그룹에서 제외해버리고 인스턴스가 종료된다.         |

